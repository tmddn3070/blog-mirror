import Plugin from '@swup/plugin';
import type { DelegateEvent, DelegateEventUnsubscribe, Handler } from 'swup';
declare module 'swup' {
    interface HookDefinitions {
        'form:submit': {
            el: HTMLFormElement;
            event: DelegatedSubmitEvent;
        };
        'form:submit:newtab': {
            el: HTMLFormElement;
            event: DelegatedSubmitEvent;
        };
    }
}
type DelegatedSubmitEvent = DelegateEvent<SubmitEvent, HTMLFormElement>;
type Options = {
    formSelector: string;
    inlineFormSelector: string;
    stripEmptyParams: boolean;
};
type FormInfo = {
    url: string;
    hash: string;
    method: 'GET' | 'POST';
    data: FormData;
    body: URLSearchParams | FormData;
    encoding: string;
};
export default class SwupFormsPlugin extends Plugin {
    name: string;
    requires: {
        swup: string;
    };
    defaults: Options;
    options: Options;
    specialKeys: {
        [key: string]: boolean;
    };
    formSubmitDelegate?: DelegateEventUnsubscribe;
    constructor(options?: Partial<Options>);
    mount(): void;
    unmount(): void;
    /**
     * Handles form 'submit' events during the capture phase
     */
    beforeFormSubmit(event: DelegatedSubmitEvent): void;
    /**
     * Restores the previous form target if available
     */
    restorePreviousFormTarget(form: HTMLFormElement): void;
    /**
     * Submits a form through swup
     */
    submitForm(event: DelegatedSubmitEvent): void;
    /**
     * Get information about where and how a form will submit
     */
    getFormInfo(form: HTMLFormElement, { submitter }: SubmitEvent): FormInfo;
    /**
     * Get a form attribute either from the form, or the submitter element if present
     */
    getFormAttr(attr: string, form: HTMLFormElement, submitter?: HTMLElement | null): string | null;
    /**
     * Appends query parameters to a URL
     */
    appendQueryParams(url: string, data: FormData): string;
    /**
     * Strip empty params from the FormData (by reference)
     * @see https://stackoverflow.com/a/64029534/586823
     */
    maybeStripEmptyParams(data: FormData): void;
    /**
     * Is either command or control key down at the moment
     */
    isSpecialKeyPressed(): boolean;
    /**
     * Reset all entries in `specialKeys` to false
     */
    resetSpecialKeys(): void;
    /**
     * Run every time the window looses focus
     */
    onBlur: () => void;
    /**
     * Adjust `specialKeys` on keyDown
     */
    onKeyDown: (event: KeyboardEvent) => void;
    /**
     * Adjust `specialKeys` on keyUp
     */
    onKeyUp: (event: KeyboardEvent) => void;
    /**
     * Handles visits triggered by forms matching [data-swup-inline-form]
     */
    handleInlineForms: Handler<'visit:start'>;
}
export {};
